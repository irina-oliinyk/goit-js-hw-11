{"version":3,"file":"commonHelpers.js","sources":["../src/img/error.svg","../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__8479b7dd__\"","// Функції для HTTP-запитів\n\n\n\nconst elements = {\n  url: 'https://pixabay.com/api/',\n  key: '44801301-54ead35aff71c3b10e6d6b08d',\n  orientationPhoto: 'horizontal',\n  typeImage: 'photo',\n  quantität: '40',\n  safesearch: 'true'\n  \n};\n\nexport function fetchphoto(query) { \n  return fetch(`${elements.url}?key=${elements.key}&orientation=${elements.orientationPhoto}&image_type=${elements.typeImage}&per_page=${elements.quantität}&safesearch=${elements.safesearch}&q=${query}`)\n  .then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  })\n};\n\n","// Функції для відображення елементів інтерфейсу\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  \nconst galleryList = document.querySelector('.gallery');\n  \nexport function createMarcap(images) {\n  galleryList.innerHTML = '';\n  const markup = images\n    .map(\n      ({ largeImageURL, webformatURL ,tags, likes, views, comments, downloads }) =>\n               `<li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"320\" height=200\" class=\"card-img\"/>\n        </a>\n        <ul class=\"galery-item-description\">\n          <li>\n            <p class=\"count-text\">Likes</p>\n            <p class=\"count\">${likes}</p>\n          </li>\n          <li>\n            <p class=\"count-text\">Views</p>\n            <p class=\"count\">${views}</p>\n          </li>\n          <li>\n            <p class=\"count-text\">Comments</p>\n            <p class=\"count\">${comments}</p>\n          </li>\n          <li>\n            <p class=\"count-text\">Downloads</p>\n            <p class=\"count\">${downloads}</p>\n          </li>\n        </ul>\n      </li>\n      `\n    )\n        .join('');\n    galleryList.insertAdjacentHTML('afterbegin', markup);\n\n  lightbox.refresh();\n};\n\n\n","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport icon from './img/error.svg'\n\n// // Описаний у документації\n// import SimpleLightbox from \"simplelightbox\";\n// // Додатковий імпорт стилів\n// import \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nimport { fetchphoto } from \"./js/pixabay-api.js\";\nimport { createMarcap } from \"./js/render-function.js\";\n\n\n\nlet inpurUser = document.querySelector('#name-input');\nconst formEl = document.querySelector('.form');\nconst galleryList = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\n\n//  function createMarcap(arr) {\n//   const galleryList = document.querySelector('.gallery');\n//   galleryList.innerHTML = '';\n//   const markup = arr\n//     .map(\n//       ({ largeImageURL, webformatURL, likes, views, comments, downloads }) =>\n//                `<li class=\"gallery-item\">\n//         <a href=\"${largeImageURL}\">\n//           <img src=\"${webformatURL}\" alt=\"\" class=\"card-img\"/>\n//         </a>\n//         <ul class=\"galery-item-description\">\n//           <li>\n//             <p class=\"count-text\">Likes</p>\n//             <p class=\"count\">${likes}</p>\n//           </li>\n//           <li>\n//             <p class=\"count-text\">Views</p>\n//             <p class=\"count\">${views}</p>\n//           </li>\n//           <li>\n//             <p class=\"count-text\">Comments</p>\n//             <p class=\"count\">${comments}</p>\n//           </li>\n//           <li>\n//             <p class=\"count-text\">Downloads</p>\n//             <p class=\"count\">${downloads}</p>\n//           </li>\n//         </ul>\n//       </li>\n//       `\n//     )\n//         .join('');\n//     galleryList.insertAdjacentHTML('afterbegin', markup);\n\n//   const lightbox = new SimpleLightbox('.gallery a', {\n//     captionsData: 'alt',\n//     captionDelay: 250,\n//   });\n   \n//    lightbox.refresh();\n// };\n\n\n\nformEl.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  // clearGallery();\n  loader.classList.remove('visually-hidden');\n   const form = event.currentTarget; // посилання на елемент форми\n   const queryValue = form.elements.query.value.toLowerCase(); // значення, яке написав користувач\n  if (queryValue === '') {\n     iziToast.show({\n      backgroundColor: '#ef4040',\n      close: false,\n      closeOnClick: true,\n      progressBarColor: 'white',\n      title: 'Error',\n      titleColor: 'white',\n      position: 'topRight',\n      messageColor: 'white',\n      messageSize: '16px',\n      message: 'Sorry, there are no images matching your search query. Please try again!',\n      icon: 'icon-error.svg',\n      iconUrl: icon\n        });\n   } else {\n   console.log(queryValue);\n    inpurUser.value = '';\n    let valueCategori = queryValue.toLowerCase();\n    loader.classList.add('visually-hidden');\n  fetchphoto(valueCategori)\n    .then(data => {\n      let hitsArray = data.hits;\n      console.log(hitsArray);\n      displayImages(hitsArray);\n      createMarcap(hitsArray);\n      loader.classList.add('visually-hidden');\n      \n    })// запускаємо функцію, яка відмалює наші карточки\n  .catch(onFetchError); // якщо робиться запит на неіснуючого покемона (404) - викликається ця фукнція для обробки помилки\n  }\n  \n}\n\n\n\n\nfunction onFetchError(error) {\n  console.log(error);\n   iziToast.show({\n          backgroundColor: '#ef4040',\n          close: false,\n          closeOnClick: true,\n          progressBarColor: 'white',\n          title: 'Error',\n          titleColor: 'white',\n          position: 'topRight',\n          icon: 'icon-error.svg',\n          messageColor: 'white',\n          messageSize: '16px',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          iconUrl: icon\n        });\n};\n\n\nfunction clearGallery() {\n  galleryList.innerHTML = '';\n}\n\nfunction displayImages(hitsArray) {\n  clearGallery();\n \n  if (hitsArray.length === 0) {\n    loader.classList.add('visually-hidden');\n    return iziToast.show({\n          backgroundColor: '#ef4040',\n          close: false,\n          closeOnClick: true,\n          progressBarColor: 'white',\n          title: 'Error',\n          titleColor: 'white',\n          position: 'topRight',\n          icon: 'icon-error.svg',\n          messageColor: 'white',\n          messageSize: '16px',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          iconUrl: icon\n    });\n    \n  } else if (hitsArray.length < 40) {\n    iziToast.show({\n          backgroundColor: '#ef4040',\n          close: false,\n          closeOnClick: true,\n          progressBarColor: 'white',\n          title: 'Error',\n          titleColor: 'white',\n          iconUrl: icon,\n          position: 'topRight',\n          icon: 'icon-error.svg',\n          messageColor: 'white',\n          messageSize: '16px',\n          message: 'Sorry, das ist alles, was wir haben!'\n    });\n    createMarcap(hitsArray);\n  } else {\n    createMarcap(hitsArray);\n  }\n}\n\n\n"],"names":["icon","elements","fetchphoto","query","response","lightbox","SimpleLightbox","galleryList","createMarcap","images","markup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","inpurUser","formEl","loader","handleSubmit","event","queryValue","iziToast","valueCategori","data","hitsArray","displayImages","onFetchError","error","clearGallery"],"mappings":"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"}