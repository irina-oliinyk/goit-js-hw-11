{"version":3,"file":"commonHelpers.js","sources":["../src/img/error.svg","../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__8479b7dd__\"","// Функції для HTTP-запитів\n\n\n\nconst elements = {\n  url: 'https://pixabay.com/api/',\n  key: '44801301-54ead35aff71c3b10e6d6b08d',\n  orientationPhoto: 'horizontal',\n  typeImage: 'photo',\n  quantität: '40',\n  safesearch: 'true'\n  \n};\n\nexport function fetchphoto(query) { \n  return fetch(`${elements.url}?key=${elements.key}&orientation=${elements.orientationPhoto}&image_type=${elements.typeImage}&per_page=${elements.quantität}&safesearch=${elements.safesearch}&q=${query}`)\n  .then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  })\n};\n\n","// Функції для відображення елементів інтерфейсу\n\nexport function createMarcap(arr) {\n  clearGallery();\n  \n  return arr\n    .map(\n      ({ largeImageURL, previewURL, likes, views, comments, downloads }) =>\n        `<li class=\"gallery gallery-item\">\n           <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img src=\"${previewURL}\" alt=\"\" width=\"300\" height=\"140\"/> \n            </a>\n                <ul class=\"galery-item-description\">\n                    <li>\n                        <p class=\"paragraf\">Likes</p>\n                        <p class=\"value\">${likes}</p>\n                    </li>\n                    <li>\n                        <p class=\"paragraf\">Views</p>\n                        <p class=\"value\">${views}</p>\n                    </li>\n                    <li>\n                        <p class=\"paragraf\">Comments</p>\n                        <p class=\"value\">${comments}</p>\n                    </li>\n                    <li>\n                        <p class=\"paragraf\">Downloads</p>\n                        <p class=\"value\">${downloads}</p>\n                    </li>\n                </ul>\n           </li>   \n      `\n    )\n    .join('');\n};\n","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport icon from './img/error.svg'\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nimport { fetchphoto } from \"./js/pixabay-api\";\nimport { createMarcap } from \"./js/render-function\";\n\n\n\nlet inpurUser = document.querySelector('#name-input');\nconst formEl = document.querySelector('.form');\nconst containerCard = document.querySelector('.card-container');\nconst list = document.querySelector('.gallery-conteiner');\nconst loader = document.querySelector('.loader');\n\n\n// function createMarcap(arr) {\n//   clearGallery();\n  \n//   return arr\n//     .map(\n//       ({ largeImageURL, previewURL, likes, views, comments, downloads }) =>\n//         `<li class=\"gallery gallery-item\">\n//            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n//             <img src=\"${previewURL}\" alt=\"\" width=\"300\" height=\"140\"/> \n//             </a>\n//                 <ul class=\"galery-item-description\">\n//                     <li>\n//                         <p class=\"paragraf\">Likes</p>\n//                         <p class=\"value\">${likes}</p>\n//                     </li>\n//                     <li>\n//                         <p class=\"paragraf\">Views</p>\n//                         <p class=\"value\">${views}</p>\n//                     </li>\n//                     <li>\n//                         <p class=\"paragraf\">Comments</p>\n//                         <p class=\"value\">${comments}</p>\n//                     </li>\n//                     <li>\n//                         <p class=\"paragraf\">Downloads</p>\n//                         <p class=\"value\">${downloads}</p>\n//                     </li>\n//                 </ul>\n//            </li>   \n//       `\n//     )\n//     .join('');\n// };\n\n\n\n\nformEl.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  // clearGallery();\n  loader.classList.remove('visually-hidden');\n   const form = event.currentTarget; // посилання на елемент форми\n   const queryValue = form.elements.query.value.toLowerCase(); // значення, яке написав користувач\n  if (queryValue === '') {\n     iziToast.show({\n      backgroundColor: '#ef4040',\n      close: false,\n      closeOnClick: true,\n      progressBarColor: 'white',\n      title: 'Error',\n      titleColor: 'white',\n      position: 'topRight',\n      messageColor: 'white',\n      messageSize: '16px',\n      message: 'Sorry, there are no images matching your search query. Please try again!',\n      icon: 'icon-error.svg',\n      iconUrl: icon\n        });\n   } else {\n   console.log(queryValue);\n    inpurUser.value = '';\n    let valueCategori = queryValue.toLowerCase();\n  fetchphoto(valueCategori)\n    .then(data => {\n      let hitsArray = data.hits;\n      console.log(hitsArray);\n      displayImages(hitsArray);\n      loader.classList.add('visually-hidden');\n      \n    })// запускаємо функцію, яка відмалює наші карточки\n  .catch(onFetchError); // якщо робиться запит на неіснуючого покемона (404) - викликається ця фукнція для обробки помилки\n  }\n  \n}\n\n\n\n\nfunction onFetchError(error) {\n   iziToast.show({\n          backgroundColor: '#ef4040',\n          close: false,\n          closeOnClick: true,\n          progressBarColor: 'white',\n          title: 'Error',\n          titleColor: 'white',\n          position: 'topRight',\n          icon: 'icon-error.svg',\n          messageColor: 'white',\n          messageSize: '16px',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          iconUrl: icon\n        });\n};\n\n\nfunction clearGallery() {\n  list.innerHTML = '';\n}\n\nfunction displayImages(hitsArray) {\n  clearGallery();\n \n  if (hitsArray.length === 0) {\n    loader.classList.add('visually-hidden');\n    return iziToast.show({\n          backgroundColor: '#ef4040',\n          close: false,\n          closeOnClick: true,\n          progressBarColor: 'white',\n          title: 'Error',\n          titleColor: 'white',\n          position: 'topRight',\n          icon: 'icon-error.svg',\n          messageColor: 'white',\n          messageSize: '16px',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          iconUrl: icon\n    });\n    \n  } else if (hitsArray.length < 40) {\n    iziToast.show({\n          backgroundColor: '#ef4040',\n          close: false,\n          closeOnClick: true,\n          progressBarColor: 'white',\n          title: 'Error',\n          titleColor: 'white',\n          iconUrl: icon,\n          position: 'topRight',\n          icon: 'icon-error.svg',\n          messageColor: 'white',\n          messageSize: '16px',\n          message: 'Sorry, das ist alles, was wir haben!'\n    });\n    list.insertAdjacentHTML('afterbegin', createMarcap(hitsArray));\n  } else {\n    list.insertAdjacentHTML('afterbegin', createMarcap(hitsArray));\n  }\n}\n\n\nvar lightbox = new SimpleLightbox('.gallery-item a', { 'captionsData': 'alt', 'captionDelay': 250, 'preloading': true });\n \nconsole.log(lightbox);\n\nlightbox.refresh();"],"names":["icon","elements","fetchphoto","query","response","createMarcap","arr","largeImageURL","previewURL","likes","views","comments","downloads","inpurUser","formEl","list","loader","handleSubmit","event","queryValue","iziToast","valueCategori","data","hitsArray","displayImages","onFetchError","error","clearGallery","lightbox","SimpleLightbox"],"mappings":"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"}