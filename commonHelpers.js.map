{"version":3,"file":"commonHelpers.js","sources":["../src/img/error.svg","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__8479b7dd__\"","// Функції для HTTP-запитів\n\n\n\nconst elements = {\n  url: 'https://pixabay.com/api/',\n  key: '44801301-54ead35aff71c3b10e6d6b08d',\n  orientationPhoto: 'horizontal',\n  typeImage: 'photo',\n  quantität: '40',\n  safesearch: 'true'\n  \n};\n\nexport function fetchphoto(query) { \n  return fetch(`${elements.url}?key=${elements.key}&orientation=${elements.orientationPhoto}&image_type=${elements.typeImage}&per_page=${elements.quantität}&safesearch=${elements.safesearch}&q=${query}`)\n  .then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  })\n};\n\n","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport Group from './img/error.svg'\n\n\nimport { fetchphoto } from \"./js/pixabay-api\";\n// import { createMarcap } from \"./js/render-function\";\n\n\n\nlet inpurUser = document.querySelector('#name-input');\nconst formEl = document.querySelector('.form');\nconst containerCard = document.querySelector('.card-container');\n\n\n\nfunction createMarcap(arr) {\n  containerCard.innerHTML = '';\n  return arr\n    .map(\n      ({ largeImageURL, previewURL, likes, views, comments, downloads }) =>\n        `<ul class=\"gallery\">\n          <li class=\"gallery-item\">\n           <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img src=\"${previewURL}\" alt=\"\" width=\"300\" height=\"140\"/> \n            </a>\n                <ul class=\"galery-item-description\">\n                    <li>\n                        <p class=\"paragraf\">Likes</p>\n                        <p class=\"value\">${likes}</p>\n                    </li>\n                    <li>\n                        <p class=\"paragraf\">Views</p>\n                        <p class=\"value\">${views}</p>\n                    </li>\n                    <li>\n                        <p class=\"paragraf\">Comments</p>\n                        <p class=\"value\">${comments}</p>\n                    </li>\n                    <li>\n                        <p class=\"paragraf\">Downloads</p>\n                        <p class=\"value\">${downloads}</p>\n                    </li>\n                </ul>\n           </li>\n        </ul>\n      `\n    )\n    .join('');\n};\n\n\n\n\nformEl.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  clearGallery();\n \n   const form = event.currentTarget; // посилання на елемент форми\n   const queryValue = form.elements.query.value.toLowerCase(); // значення, яке написав користувач\n\n\n   if (queryValue === '') {\n     alert('Error');\n   } else {\n   console.log(queryValue);\n   inpurUser.value = '';\n  }\n  let valueCategori = queryValue.toLowerCase();\n  fetchphoto(valueCategori)\n    .then(data => {\n      let hitsArray = data.hits;\n      console.log(hitsArray);\n      displayImages(hitsArray);\n      containerCard.insertAdjacentHTML('afterbegin', createMarcap(hitsArray));\n      // clearGallery()\n    })// запускаємо функцію, яка відмалює наші карточки\n  .catch(onFetchError); // якщо робиться запит на неіснуючого покемона (404) - викликається ця фукнція для обробки помилки\n}\n\n\n\n\nfunction onFetchError(error) {\n   iziToast.show({\n          backgroundColor: '#ef4040',\n          close: false,\n          closeOnClick: true,\n          progressBarColor: 'white',\n          title: 'Error',\n          titleColor: 'white',\n          iconUrl: Group,\n          position: 'topRight',\n          icon: 'icon-error.svg',\n          messageColor: 'white',\n          messageSize: '16px',\n          message: 'Sorry, there are no images matching your search query. Please try again!'\n        });\n};\n\n\nfunction clearGallery() {\n    containerCard.innerHTML = '';\n}\n\nfunction displayImages(hitsArray) {\n  clearGallery();\n\n  if (hitsArray.length === 0) {\n   iziToast.show({\n          backgroundColor: '#ef4040',\n          close: false,\n          closeOnClick: true,\n          progressBarColor: 'white',\n          title: 'Error',\n          titleColor: 'white',\n          iconUrl: Group,\n          position: 'topRight',\n          icon: 'icon-error.svg',\n          messageColor: 'white',\n          messageSize: '16px',\n          message: 'Sorry, there are no images matching your search query. Please try again!'\n        });\n  }else if (hitsArray.length < 40) {\n    iziToast.show({\n          backgroundColor: '#ef4040',\n          close: false,\n          closeOnClick: true,\n          progressBarColor: 'white',\n          title: 'Error',\n          titleColor: 'white',\n          iconUrl: Group,\n          position: 'topRight',\n          icon: 'icon-error.svg',\n          messageColor: 'white',\n          messageSize: '16px',\n          message: 'Sorry, das ist alles, was wir haben!'\n        });\n  }\n}\n\n"],"names":["Group","elements","fetchphoto","query","response","inpurUser","formEl","containerCard","createMarcap","arr","largeImageURL","previewURL","likes","views","comments","downloads","handleSubmit","event","clearGallery","queryValue","valueCategori","data","hitsArray","displayImages","onFetchError","error","iziToast"],"mappings":"svBAAA,MAAeA,EAAA,2CCITC,EAAW,CACf,IAAK,2BACL,IAAK,qCACL,iBAAkB,aAClB,UAAW,QACX,UAAW,KACX,WAAY,MAEd,EAEO,SAASC,EAAWC,EAAO,CAChC,OAAO,MAAM,GAAGF,EAAS,GAAG,QAAQA,EAAS,GAAG,gBAAgBA,EAAS,gBAAgB,eAAeA,EAAS,SAAS,aAAaA,EAAS,SAAS,eAAeA,EAAS,UAAU,MAAME,CAAK,EAAE,EACvM,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCVA,IAAIC,EAAY,SAAS,cAAc,aAAa,EACpD,MAAMC,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAgB,SAAS,cAAc,iBAAiB,EAI9D,SAASC,EAAaC,EAAK,CACzB,OAAAF,EAAc,UAAY,GACnBE,EACJ,IACC,CAAC,CAAE,cAAAC,EAAe,WAAAC,EAAY,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAC/D;AAAA;AAAA,2CAEmCL,CAAa;AAAA,wBAChCC,CAAU;AAAA;AAAA;AAAA;AAAA;AAAA,2CAKSC,CAAK;AAAA;AAAA;AAAA;AAAA,2CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,2CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,2CAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,OAM/C,EACA,KAAK,EAAE,CACZ,CAKAT,EAAO,iBAAiB,SAAUU,CAAY,EAE9C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBC,IAGC,MAAMC,EADOF,EAAM,cACK,SAAS,MAAM,MAAM,cAGzCE,IAAe,GACjB,MAAM,OAAO,GAEf,QAAQ,IAAIA,CAAU,EACtBd,EAAU,MAAQ,IAEnB,IAAIe,EAAgBD,EAAW,cAC/BjB,EAAWkB,CAAa,EACrB,KAAKC,GAAQ,CACZ,IAAIC,EAAYD,EAAK,KACrB,QAAQ,IAAIC,CAAS,EACrBC,EAAcD,CAAS,EACvBf,EAAc,mBAAmB,aAAcC,EAAac,CAAS,CAAC,CAE5E,CAAK,EACF,MAAME,CAAY,CACrB,CAKA,SAASA,EAAaC,EAAO,CAC1BC,EAAS,KAAK,CACP,gBAAiB,UACjB,MAAO,GACP,aAAc,GACd,iBAAkB,QAClB,MAAO,QACP,WAAY,QACZ,QAAS1B,EACT,SAAU,WACV,KAAM,iBACN,aAAc,QACd,YAAa,OACb,QAAS,0EACnB,CAAS,CACT,CAGA,SAASkB,GAAe,CACpBX,EAAc,UAAY,EAC9B,CAEA,SAASgB,EAAcD,EAAW,CAChCJ,IAEII,EAAU,SAAW,EACxBI,EAAS,KAAK,CACP,gBAAiB,UACjB,MAAO,GACP,aAAc,GACd,iBAAkB,QAClB,MAAO,QACP,WAAY,QACZ,QAAS1B,EACT,SAAU,WACV,KAAM,iBACN,aAAc,QACd,YAAa,OACb,QAAS,0EACnB,CAAS,EACGsB,EAAU,OAAS,IAC3BI,EAAS,KAAK,CACR,gBAAiB,UACjB,MAAO,GACP,aAAc,GACd,iBAAkB,QAClB,MAAO,QACP,WAAY,QACZ,QAAS1B,EACT,SAAU,WACV,KAAM,iBACN,aAAc,QACd,YAAa,OACb,QAAS,sCACnB,CAAS,CAET"}